<section class="hero{% unless section.blocks.size > 0 %} hero--gradient{% endunless %}">
  <div class="hero__slides" data-hero-slider>
    {%- if section.blocks.size > 0 -%}
      {%- for block in section.blocks -%}
        <div class="hero__slide{% if forloop.first %} is-active{% endif %}" {{ block.shopify_attributes }}>
          {%- if block.settings.image != blank -%}
            <img class="hero__bg"
                 src="{{ block.settings.image | image_url: width: 1920 }}"
                 alt="{{ block.settings.heading | escape }}"
                 loading="{% if forloop.first %}eager{% else %}lazy{% endif %}"
                 width="1920"
                 height="900">
          {%- else -%}
            <div class="hero__bg" style="background: linear-gradient(135deg, #FF6B35 0%, #FF8E6B 50%, #4ECDC4 100%); position: absolute; top:0; left:0; width:100%; height:100%;"></div>
          {%- endif -%}
          <div class="hero__overlay"></div>
          <div class="hero__content">
            {%- if block.settings.subtitle != blank -%}
              <p class="hero__subtitle">{{ block.settings.subtitle }}</p>
            {%- endif -%}
            <h1 class="hero__title">{{ block.settings.heading | default: 'Paint a Character' }}</h1>
            {%- if block.settings.text != blank -%}
              <p class="hero__description">{{ block.settings.text }}</p>
            {%- endif -%}
            <div class="hero__actions">
              {%- if block.settings.button_label != blank -%}
                <a href="{{ block.settings.button_link }}" class="btn btn--primary btn--large">
                  {{ block.settings.button_label }}
                </a>
              {%- endif -%}
              {%- if block.settings.button_label_2 != blank -%}
                <a href="{{ block.settings.button_link_2 }}" class="btn btn--secondary btn--large" style="border-color:#fff;color:#fff;">
                  {{ block.settings.button_label_2 }}
                </a>
              {%- endif -%}
            </div>
          </div>
        </div>
      {%- endfor -%}
    {%- else -%}
      <!-- Default hero when no blocks configured -->
      <div class="hero__slide is-active">
        <div class="hero__bg" style="background: linear-gradient(135deg, #FF6B35 0%, #FF8E6B 50%, #4ECDC4 100%); position: absolute; top:0; left:0; width:100%; height:100%;"></div>
        <div class="hero__overlay" style="background: linear-gradient(135deg, rgba(45,52,54,0.5), rgba(45,52,54,0.2));"></div>
        <div class="hero__content">
          <p class="hero__subtitle">Paint Your Own</p>
          <h1 class="hero__title">Paint a Character</h1>
          <p class="hero__description">A relaxing, creative activity you'll actually finish. We ship it blank. You paint it your way.</p>
          <div class="hero__actions">
            <a href="/collections/all" class="btn btn--primary btn--large">Shop Now</a>
            <a href="/pages/how-it-works" class="btn btn--secondary btn--large" style="border-color:#fff;color:#fff;">See How It Works</a>
          </div>
        </div>
      </div>
    {%- endif -%}
  </div>

  {%- if section.blocks.size > 1 -%}
    <div class="hero__dots" data-hero-dots>
      {%- for block in section.blocks -%}
        <button class="hero__dot{% if forloop.first %} is-active{% endif %}"
                data-slide-index="{{ forloop.index0 }}"
                aria-label="Slide {{ forloop.index }}"></button>
      {%- endfor -%}
    </div>
  {%- endif -%}
</section>

{% schema %}
{
  "name": "Hero Slideshow",
  "class": "hero-section",
  "settings": [
    {
      "type": "range",
      "id": "autoplay_speed",
      "label": "Autoplay speed (seconds)",
      "min": 3,
      "max": 10,
      "step": 1,
      "default": 5,
      "unit": "s"
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Slide",
      "limit": 5,
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Background image"
        },
        {
          "type": "text",
          "id": "subtitle",
          "label": "Subtitle",
          "default": "Paint Your Own"
        },
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Paint a Character"
        },
        {
          "type": "textarea",
          "id": "text",
          "label": "Description",
          "default": "A relaxing, creative activity you'll actually finish. We ship it blank. You paint it your way."
        },
        {
          "type": "text",
          "id": "button_label",
          "label": "Button label 1",
          "default": "Shop Now"
        },
        {
          "type": "url",
          "id": "button_link",
          "label": "Button link 1"
        },
        {
          "type": "text",
          "id": "button_label_2",
          "label": "Button label 2",
          "default": "See How It Works"
        },
        {
          "type": "url",
          "id": "button_link_2",
          "label": "Button link 2"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Hero Slideshow",
      "blocks": [
        {
          "type": "slide",
          "settings": {
            "subtitle": "Paint Your Own",
            "heading": "Paint a Character",
            "text": "A relaxing, creative activity you'll actually finish. We ship it blank. You paint it your way.",
            "button_label": "Shop Now",
            "button_label_2": "See How It Works"
          }
        },
        {
          "type": "slide",
          "settings": {
            "subtitle": "For Couples",
            "heading": "Date Night. Reimagined.",
            "text": "Skip the dinner reservation. Paint together, laugh together, create something together.",
            "button_label": "Shop Twin Sets"
          }
        },
        {
          "type": "slide",
          "settings": {
            "subtitle": "For Groups",
            "heading": "The Party Activity Everyone Enjoys",
            "text": "Birthday parties, bachelorettes, team building. Everyone leaves with something they made.",
            "button_label": "Shop Party Packs"
          }
        }
      ]
    }
  ]
}
{% endschema %}
