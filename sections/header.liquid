<header class="header" data-header>
  <div class="header__inner">
    <a href="/" class="header__logo">
      {%- if settings.logo != blank -%}
        <img src="{{ settings.logo | image_url: width: settings.logo_width }}"
             alt="{{ shop.name }}"
             width="{{ settings.logo_width }}"
             height="{{ settings.logo_width | divided_by: settings.logo.aspect_ratio }}"
             loading="eager">
      {%- else -%}
        <span class="header__logo-text">Paint <span>Your Own</span></span>
      {%- endif -%}
    </a>

    <nav class="header__nav" role="navigation" aria-label="Main navigation">
      {%- for block in section.blocks -%}
        <a href="{{ block.settings.link }}" class="header__nav-link">
          {{ block.settings.label }}
        </a>
      {%- endfor -%}
    </nav>

    <div class="header__actions">
      <button class="header__cart-btn" data-cart-toggle aria-label="Open cart">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/>
          <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
        </svg>
        <span class="header__cart-count" data-cart-count>{{ cart.item_count }}</span>
      </button>

      <button class="header__menu-toggle" data-menu-toggle aria-label="Open menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </div>
</header>

<!-- Mobile Navigation -->
<nav class="mobile-nav" data-mobile-nav aria-label="Mobile navigation">
  <button class="mobile-nav__close" data-mobile-nav-close aria-label="Close menu">&times;</button>
  {%- for block in section.blocks -%}
    <a href="{{ block.settings.link }}" class="mobile-nav__link">{{ block.settings.label }}</a>
  {%- endfor -%}
</nav>

{% schema %}
{
  "name": "Header",
  "class": "header-section",
  "settings": [],
  "blocks": [
    {
      "type": "nav_item",
      "name": "Navigation item",
      "settings": [
        {
          "type": "text",
          "id": "label",
          "label": "Label",
          "default": "Link"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Header",
      "blocks": [
        { "type": "nav_item", "settings": { "label": "Shop All", "link": "/collections/all" } },
        { "type": "nav_item", "settings": { "label": "Twin Sets", "link": "/collections/twin-sets" } },
        { "type": "nav_item", "settings": { "label": "Party Packs", "link": "/collections/party-packs" } },
        { "type": "nav_item", "settings": { "label": "Paint Kits", "link": "/collections/paint-kits" } },
        { "type": "nav_item", "settings": { "label": "How It Works", "link": "/pages/how-it-works" } },
        { "type": "nav_item", "settings": { "label": "Events", "link": "/pages/events" } }
      ]
    }
  ]
}
{% endschema %}
